<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LAIR | –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä –û—Ä–µ–Ω–¥–∏ –Ü–≥—Ä–æ–≤–æ–≥–æ –û–±–ª–∞–¥–Ω–∞–Ω–Ω—è</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        /* LAIR Core Palette */
        :root {
            --color-bunker-graphite: #2d2d2d;
            --color-sunset-red: #E05A47;
            --color-warm-white: #F5F5F5;
        }

        body {
            font-family: 'Segoe UI', sans-serif;
            background-color: var(--color-bunker-graphite);
            color: var(--color-warm-white);
        }
        .card {
            background-color: #3f3f3f; /* Darker than bunker for card separation, but in the same tone */
            border: 1px solid #4a4a4a;
        }
        .accent-color {
            color: var(--color-sunset-red);
        }
        .input-group label {
            font-size: 0.875rem;
            color: var(--color-warm-white);
            margin-bottom: 0.25rem;
            display: block;
        }
        
        /* Custom styles for the range slider (accent color) */
        input[type=range] {
            -webkit-appearance: none;
            width: 100%;
            height: 8px;
            background: #4a4a4a;
            border-radius: 4px;
            margin: 8px 0;
        }

        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 18px;
            height: 18px;
            background: var(--color-sunset-red);
            cursor: pointer;
            border-radius: 50%;
            border: 2px solid var(--color-warm-white);
        }

        input[type=range]::-moz-range-thumb {
            width: 18px;
            height: 18px;
            background: var(--color-sunset-red);
            cursor: pointer;
            border-radius: 50%;
            border: 2px solid var(--color-warm-white);
        }

        /* Styling for text inputs */
        .lair-input {
            background-color: #3f3f3f;
            border: 1px solid #666666;
            color: var(--color-warm-white);
        }
        
        .lair-input:focus {
            border-color: var(--color-sunset-red);
            box-shadow: 0 0 0 1px var(--color-sunset-red);
        }

        .submit-button {
            background-color: var(--color-sunset-red);
            transition: background-color 0.2s;
        }
        .submit-button:hover {
            background-color: #c74d3a; /* Slightly darker on hover */
        }

        .error-message {
            color: var(--color-sunset-red);
        }
    </style>
</head>
<body class="min-h-screen p-4 md:p-8">

    <div class="max-w-5xl mx-auto grid grid-cols-1 lg:grid-cols-3 gap-8">
        
        <div class="col-span-1 lg:col-span-3 text-center mb-6">
            <h1 class="text-4xl font-extrabold mb-2 accent-color">LAIR <i class="fas fa-gamepad ml-1"></i> –û—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è –ó–∞–º–æ–≤–ª–µ–Ω–Ω—è</h1>
            <p class="text-neutral-400">–®–≤–∏–¥–∫–∏–π —Ä–æ–∑—Ä–∞—Ö—É–Ω–æ–∫ —Ç–∞ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è —ñ–≥—Ä–æ–≤–æ–≥–æ –æ–±–ª–∞–¥–Ω–∞–Ω–Ω—è</p>
        </div>

        <div class="col-span-1 lg:col-span-3 space-y-6">
            <div class="card rounded-xl p-8 shadow-2xl border-l-4 border-l-orange-500">
                <h2 class="text-2xl font-bold mb-4 border-b border-neutral-600 pb-2 accent-color"><i class="fas fa-id-card-alt mr-2"></i> –í–∞—à—ñ –ö–æ–Ω—Ç–∞–∫—Ç–∏ —Ç–∞ –î–µ—Ç–∞–ª—ñ –Ü–≤–µ–Ω—Ç—É</h2>
                <form id="orderForm" class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div class="space-y-4">
                        <input type="text" id="clientName" placeholder="–Ü–º'—è —Ç–∞ –ü—Ä—ñ–∑–≤–∏—â–µ (–û–±–æ–≤'—è–∑–∫–æ–≤–æ)" required class="lair-input w-full p-3 rounded-lg text-sm">
                        <input type="tel" id="clientPhone" placeholder="–¢–µ–ª–µ—Ñ–æ–Ω (–û–±–æ–≤'—è–∑–∫–æ–≤–æ)" required class="lair-input w-full p-3 rounded-lg text-sm">
                        <input type="email" id="clientEmail" placeholder="Email (–ë–∞–∂–∞–Ω–æ)" class="lair-input w-full p-3 rounded-lg text-sm">
                    </div>
                    
                    <div class="space-y-4">
                        <input type="text" id="eventLocation" placeholder="–ú—ñ—Å—Ü–µ –ø—Ä–æ–≤–µ–¥–µ–Ω–Ω—è (–ê–¥—Ä–µ—Å–∞)" class="lair-input w-full p-3 rounded-lg text-sm">
                        <input type="date" id="eventDate" placeholder="–î–∞—Ç–∞ —ñ–≤–µ–Ω—Ç—É" required class="lair-input w-full p-3 rounded-lg text-sm appearance-none">
                        <textarea id="eventNotes" placeholder="–î–æ–¥–∞—Ç–∫–æ–≤—ñ –ø–æ–±–∞–∂–∞–Ω–Ω—è (—á–∞—Å, –æ—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ –ª–æ–∫–∞—Ü—ñ—ó)" rows="2" class="lair-input w-full p-3 rounded-lg text-sm"></textarea>
                    </div>
                </form>
                <div id="validationError" class="error-message mt-4 hidden font-semibold">–ë—É–¥—å –ª–∞—Å–∫–∞, –∑–∞–ø–æ–≤–Ω—ñ—Ç—å –≤—Å—ñ –æ–±–æ–≤'—è–∑–∫–æ–≤—ñ –ø–æ–ª—è.</div>
            </div>
        </div>

        <div class="col-span-1 lg:col-span-2 space-y-8">
            
            <div class="card rounded-xl p-8 shadow-2xl">
                <h2 class="text-2xl font-bold mb-6 border-b border-neutral-600 pb-3 accent-color">üéÆ –í–∏–±—ñ—Ä –û–±–ª–∞–¥–Ω–∞–Ω–Ω—è</h2>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div class="input-group">
                        <div class="flex justify-between items-center">
                            <label>–Ü–≥—Ä–æ–≤—ñ –ù–æ—É—Ç–±—É–∫–∏ (—à—Ç)</label>
                            <span id="laptopCountVal" class="text-3xl font-extrabold accent-color">5</span>
                        </div>
                        <input type="range" id="laptops" min="0" max="30" value="5" class="w-full">
                        <div class="flex justify-between text-xs text-neutral-400 mt-1">
                            <span>–ú–∞–∫—Å. 30</span>
                            <span>–¶—ñ–Ω–∞: <span id="laptopPriceDisplay">1200</span> –≥—Ä–Ω/—à—Ç</span>
                        </div>
                    </div>

                    <div class="input-group">
                        <div class="flex justify-between items-center">
                            <label>PlayStation 5 (—à—Ç)</label>
                            <span id="ps5CountVal" class="text-3xl font-extrabold accent-color">2</span>
                        </div>
                        <input type="range" id="ps5" min="0" max="15" value="2" class="w-full">
                        <div class="flex justify-between text-xs text-neutral-400 mt-1">
                            <span>–ú–∞–∫—Å. 15</span>
                            <span>–¶—ñ–Ω–∞: <span id="ps5PriceDisplay">1000</span> –≥—Ä–Ω/—à—Ç</span>
                        </div>
                    </div>

                    <div class="input-group">
                        <div class="flex justify-between items-center">
                            <label>VR –®–æ–ª–æ–º–∏ (Quest 3/2)</label>
                            <span id="vrCountVal" class="text-3xl font-extrabold accent-color">1</span>
                        </div>
                        <input type="range" id="vr" min="0" max="10" value="1" class="w-full">
                        <div class="flex justify-between text-xs text-neutral-400 mt-1">
                            <span>–ú–∞–∫—Å. 10</span>
                            <span>–¶—ñ–Ω–∞: <span id="vrPriceDisplay">1500</span> –≥—Ä–Ω/—à—Ç</span>
                        </div>
                    </div>

                    <div class="input-group">
                        <div class="flex justify-between items-center">
                            <label>–¢–í 50-55" (—Å—Ç—ñ–π–∫–∞)</label>
                            <span id="tvCountVal" class="text-3xl font-extrabold accent-color">2</span>
                        </div>
                        <input type="range" id="tv" min="0" max="15" value="2" class="w-full">
                        <div class="flex justify-between text-xs text-neutral-400 mt-1">
                            <span>–ù–µ–æ–±—Ö—ñ–¥–Ω—ñ –¥–ª—è –∫–æ–Ω—Å–æ–ª–µ–π</span>
                            <span>–¶—ñ–Ω–∞: <span id="tvPriceDisplay">1000</span> –≥—Ä–Ω/—à—Ç</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card rounded-xl p-8 shadow-2xl">
                <h2 class="text-2xl font-bold mb-6 border-b border-neutral-600 pb-3 accent-color">üöö –õ–æ–≥—ñ—Å—Ç–∏–∫–∞ —Ç–∞ –°–µ—Ä–≤—ñ—Å</h2>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div class="space-y-4">
                        <label class="flex items-center space-x-3 cursor-pointer mb-2">
                            <input type="checkbox" id="operator" class="w-5 h-5 accent-color bg-gray-700 border-gray-600 rounded">
                            <span class="text-lg font-semibold">–¢–µ—Ö–Ω—ñ—á–Ω–∏–π –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä</span>
                        </label>
                        <div class="pl-8 text-sm text-neutral-400">
                            <p>–ó–∞–±–µ–∑–ø–µ—á—É—î –±–µ–∑–ø–µ—Ä–µ–±—ñ–π–Ω—É —Ä–æ–±–æ—Ç—É, –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ –¥–æ–ø–æ–º–æ–≥—É –≥–æ—Å—Ç—è–º.</p>
                            <div class="mt-3 flex items-center gap-2">
                                <input type="number" id="hours" value="6" min="1" max="24" class="w-16 lair-input rounded px-2 py-1 text-center">
                                <span>–≥–æ–¥–∏–Ω —Ä–æ–±–æ—Ç–∏ (@<span id="adminPriceDisplay">250</span> –≥—Ä–Ω/–≥–æ–¥)</span>
                            </div>
                        </div>
                    </div>

                    <div class="space-y-4">
                        <label class="flex items-center space-x-3 cursor-pointer mb-2">
                            <input type="checkbox" id="delivery" class="w-5 h-5 accent-color bg-gray-700 border-gray-600 rounded" checked>
                            <span class="text-lg font-semibold">–ú–æ–Ω—Ç–∞–∂/–î–µ–º–æ–Ω—Ç–∞–∂ + –î–æ—Å—Ç–∞–≤–∫–∞</span>
                        </label>
                        <select id="deliveryZone" class="w-full lair-input rounded px-3 py-2 text-sm mt-1">
                            <option value="1000">–ü–æ –º—ñ—Å—Ç—É (–±–∞–∑–æ–≤–∞, 1000 –≥—Ä–Ω)</option>
                            <option value="1500">–¶–µ–Ω—Ç—Ä/–°–∫–ª–∞–¥–Ω–∏–π –∑–∞—ó–∑–¥ (1500 –≥—Ä–Ω)</option>
                            <option value="2500">–ó–∞ –º—ñ—Å—Ç–æ (–¥–æ 30–∫–º, 2500 –≥—Ä–Ω)</option>
                        </select>
                    </div>
                </div>
            </div>

            <div class="card rounded-xl p-6 shadow-2xl flex flex-col md:flex-row items-center justify-between">
                <span class="font-bold text-xl mb-2 md:mb-0">–ó–Ω–∏–∂–∫–∞ –∫–ª—ñ—î–Ω—Ç—É (%)</span>
                <div class="flex items-center gap-4 w-full md:w-1/2">
                    <input type="range" id="discount" min="0" max="50" value="10" class="w-full accent-color">
                    <span id="discountVal" class="font-extrabold text-3xl w-12 text-right accent-color">10</span>
                </div>
            </div>
            
            <div class="text-center">
                <button id="toggleSettings" class="text-sm text-neutral-500 hover:text-neutral-300 underline"><i class="fas fa-cog mr-1"></i> –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –±–∞–∑–æ–≤—ñ —Ü—ñ–Ω–∏ (–¥–ª—è –º–µ–Ω–µ–¥–∂–µ—Ä–∞)</button>
            </div>
            <div id="settingsPanel" class="hidden card p-4 rounded-xl text-sm">
                <h3 class="font-bold mb-3 accent-color">–ë–∞–∑–æ–≤—ñ —Ü—ñ–Ω–∏ –æ—Ä–µ–Ω–¥–∏ –∑–∞ 1 –æ–¥–∏–Ω–∏—Ü—é (–≥—Ä–Ω/–¥–æ–±–∞)</h3>
                <div class="grid grid-cols-2 sm:grid-cols-3 gap-3">
                    <label class="block">–ù–æ—É—Ç–±—É–∫: <input type="number" id="basePriceLaptop" value="1200" min="0" class="w-full lair-input px-2 py-1"></label>
                    <label class="block">PS5: <input type="number" id="basePricePS5" value="1000" min="0" class="w-full lair-input px-2 py-1"></label>
                    <label class="block">VR: <input type="number" id="basePriceVR" value="1500" min="0" class="w-full lair-input px-2 py-1"></label>
                    <label class="block">–¢–í: <input type="number" id="basePriceTV" value="1000" min="0" class="w-full lair-input px-2 py-1"></label>
                    <label class="block">–ê–¥–º—ñ–Ω/–≥–æ–¥: <input type="number" id="basePriceAdmin" value="250" min="0" class="w-full lair-input px-2 py-1"></label>
                </div>
            </div>

        </div>

        <div class="col-span-1">
            <div class="card rounded-xl p-8 shadow-2xl sticky top-6 border-t-4 border-t-red-700">
                <h2 class="text-3xl font-extrabold mb-6 text-center accent-color">üí∞ –í–∞—à –ö–æ—à—Ç–æ—Ä–∏—Å</h2>
                
                <div class="space-y-4 text-base border-b border-neutral-600 pb-5 mb-5">
                    <div class="flex justify-between items-center">
                        <span class="text-neutral-300">–°—É–º–∞ –∑–∞ –æ–±–ª–∞–¥–Ω–∞–Ω–Ω—è:</span>
                        <span id="equipTotal" class="font-bold">0 ‚Ç¥</span>
                    </div>
                    <div class="flex justify-between items-center">
                        <span class="text-neutral-300">–ü–µ—Ä—Å–æ–Ω–∞–ª (–ê–¥–º—ñ–Ω):</span>
                        <span id="staffTotal" class="font-bold">0 ‚Ç¥</span>
                    </div>
                    <div class="flex justify-between items-center">
                        <span class="text-neutral-300">–õ–æ–≥—ñ—Å—Ç–∏–∫–∞/–ú–æ–Ω—Ç–∞–∂:</span>
                        <span id="deliveryTotal" class="font-bold">0 ‚Ç¥</span>
                    </div>
                    <div class="flex justify-between items-center pt-2 border-t border-neutral-700">
                        <span class="text-xl font-bold">–ó–∞–≥–∞–ª—å–Ω–∞ –°—É–º–∞:</span>
                        <span id="subtotal" class="text-xl font-bold">0 ‚Ç¥</span>
                    </div>
                </div>

                <div class="flex justify-between items-center mb-6 text-orange-400">
                    <span class="text-lg">–ó–Ω–∏–∂–∫–∞ (<span id="discountDisplay">10</span>%):</span>
                    <span id="discountAmount" class="text-lg font-bold">-0 ‚Ç¥</span>
                </div>

                <div class="bg-black rounded-lg p-5 text-center border border-red-700">
                    <p class="text-neutral-400 text-base mb-1">–§–Ü–ù–ê–õ–¨–ù–ê –í–ê–†–¢–Ü–°–¢–¨ –ó–ê–ú–û–í–õ–ï–ù–ù–Ø</p>
                    <p id="finalTotal" class="text-5xl font-extrabold text-green-400">0 ‚Ç¥</p>
                </div>
                
                <button onclick="https://script.google.com/macros/s/AKfycbxpxXWq8zhMM0ifO_cgZavHgrUq96RhlNy4aLA5qL0enEFpX4Luk7Xgf88S8s-cpHvlWg/exec" class="submit-button w-full mt-6 text-white font-bold py-4 px-4 rounded-lg shadow-lg text-lg">
                    <i class="fas fa-check-circle mr-2"></i> –û–§–û–†–ú–ò–¢–ò –ó–ê–ú–û–í–õ–ï–ù–ù–Ø
                </button>
                
                <button onclick="copyToClipboard()" class="w-full mt-3 bg-neutral-600 hover:bg-neutral-700 text-white font-bold py-3 px-4 rounded transition duration-200 text-sm">
                    <i class="fas fa-copy mr-2"></i> –ö–æ–ø—ñ—é–≤–∞—Ç–∏ –ö–æ—à—Ç–æ—Ä–∏—Å
                </button>

                <div class="mt-6 text-xs text-neutral-500 text-center">
                    * –¶—ñ–Ω–∏ –æ—Ä—ñ—î–Ω—Ç–æ–≤–Ω—ñ. –û—Å—Ç–∞—Ç–æ—á–Ω–∞ –≤–∞—Ä—Ç—ñ—Å—Ç—å —É–∑–≥–æ–¥–∂—É—î—Ç—å—Å—è –ø—ñ—Å–ª—è –æ–±—Ä–æ–±–∫–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è.
                </div>
            </div>
        </div>

    </div>

    <script>
        // State
        const state = {
            laptops: 5,
            ps5: 2,
            vr: 1,
            tv: 2,
            operator: true,
            hours: 6,
            delivery: true,
            deliveryCost: 1000,
            discount: 10,
            prices: {
                laptop: 1200,
                ps5: 1000,
                vr: 1500,
                tv: 1000,
                adminPerHour: 250
            }
        };

        // Elements
        const inputs = {
            // Equipment Sliders
            laptops: document.getElementById('laptops'),
            ps5: document.getElementById('ps5'),
            vr: document.getElementById('vr'),
            tv: document.getElementById('tv'),
            // Services
            operator: document.getElementById('operator'),
            hours: document.getElementById('hours'),
            delivery: document.getElementById('delivery'),
            deliveryZone: document.getElementById('deliveryZone'),
            discount: document.getElementById('discount'),
            // Form Fields
            clientName: document.getElementById('clientName'),
            clientPhone: document.getElementById('clientPhone'),
            clientEmail: document.getElementById('clientEmail'),
            eventLocation: document.getElementById('eventLocation'),
            eventDate: document.getElementById('eventDate'),
            eventNotes: document.getElementById('eventNotes'),
            // Base Prices Inputs
            basePriceLaptop: document.getElementById('basePriceLaptop'),
            basePricePS5: document.getElementById('basePricePS5'),
            basePriceVR: document.getElementById('basePriceVR'),
            basePriceTV: document.getElementById('basePriceTV'),
            basePriceAdmin: document.getElementById('basePriceAdmin'),
        };

        const displays = {
            laptopCount: document.getElementById('laptopCountVal'),
            ps5Count: document.getElementById('ps5CountVal'),
            vrCount: document.getElementById('vrCountVal'),
            tvCount: document.getElementById('tvCountVal'),
            discountVal: document.getElementById('discountVal'),
            discountDisplay: document.getElementById('discountDisplay'),
            adminPrice: document.getElementById('adminPriceDisplay'),
            
            laptopPrice: document.getElementById('laptopPriceDisplay'),
            ps5Price: document.getElementById('ps5PriceDisplay'),
            vrPrice: document.getElementById('vrPriceDisplay'),
            tvPrice: document.getElementById('tvPriceDisplay'),

            equipTotal: document.getElementById('equipTotal'),
            staffTotal: document.getElementById('staffTotal'),
            deliveryTotal: document.getElementById('deliveryTotal'),
            subtotal: document.getElementById('subtotal'),
            discountAmount: document.getElementById('discountAmount'),
            finalTotal: document.getElementById('finalTotal'),
            validationError: document.getElementById('validationError')
        };

        // Logic
        function calculate() {
            // Update State from Inputs
            state.laptops = parseInt(inputs.laptops.value);
            state.ps5 = parseInt(inputs.ps5.value);
            state.vr = parseInt(inputs.vr.value);
            state.tv = parseInt(inputs.tv.value);
            state.operator = inputs.operator.checked;
            state.hours = parseInt(inputs.hours.value || 0); // Handle empty input for hours
            state.delivery = inputs.delivery.checked;
            state.deliveryCost = parseInt(inputs.deliveryZone.value);
            state.discount = parseInt(inputs.discount.value);

            // Update Base Prices from Settings
            state.prices.laptop = parseInt(inputs.basePriceLaptop.value || 0);
            state.prices.ps5 = parseInt(inputs.basePricePS5.value || 0);
            state.prices.vr = parseInt(inputs.basePriceVR.value || 0);
            state.prices.tv = parseInt(inputs.basePriceTV.value || 0);
            state.prices.adminPerHour = parseInt(inputs.basePriceAdmin.value || 0);

            // Update UI Counters and Prices
            displays.laptopCount.innerText = state.laptops;
            displays.ps5Count.innerText = state.ps5;
            displays.vrCount.innerText = state.vr;
            displays.tvCount.innerText = state.tv;
            displays.discountVal.innerText = state.discount;
            displays.discountDisplay.innerText = state.discount;
            displays.adminPrice.innerText = state.prices.adminPerHour;

            displays.laptopPrice.innerText = state.prices.laptop;
            displays.ps5Price.innerText = state.prices.ps5;
            displays.vrPrice.innerText = state.prices.vr;
            displays.tvPrice.innerText = state.prices.tv;

            // Calculations
            const equipCost = 
                (state.laptops * state.prices.laptop) + 
                (state.ps5 * state.prices.ps5) + 
                (state.vr * state.prices.vr) +
                (state.tv * state.prices.tv);

            const staffCost = state.operator ? (state.prices.adminPerHour * state.hours) : 0;
            const deliveryCost = state.delivery ? state.deliveryCost : 0;

            const subtotal = equipCost + staffCost + deliveryCost;
            const discountAmount = Math.round(subtotal * (state.discount / 100));
            const finalTotal = subtotal - discountAmount;

            // Render Results
            displays.equipTotal.innerText = equipCost.toLocaleString() + ' ‚Ç¥';
            displays.staffTotal.innerText = staffCost.toLocaleString() + ' ‚Ç¥';
            displays.deliveryTotal.innerText = deliveryCost.toLocaleString() + ' ‚Ç¥';
            displays.subtotal.innerText = subtotal.toLocaleString() + ' ‚Ç¥';
            displays.discountAmount.innerText = '-' + discountAmount.toLocaleString() + ' ‚Ç¥';
            displays.finalTotal.innerText = finalTotal.toLocaleString() + ' ‚Ç¥';
        }

        function validateForm() {
            let isValid = true;
            
            // Check required fields
            if (!inputs.clientName.value.trim()) {
                inputs.clientName.classList.add('border-red-500');
                isValid = false;
            } else {
                inputs.clientName.classList.remove('border-red-500');
            }

            if (!inputs.clientPhone.value.trim()) {
                inputs.clientPhone.classList.add('border-red-500');
                isValid = false;
            } else {
                inputs.clientPhone.classList.remove('border-red-500');
            }

            if (!inputs.eventDate.value.trim()) {
                inputs.eventDate.classList.add('border-red-500');
                isValid = false;
            } else {
                inputs.eventDate.classList.remove('border-red-500');
            }
            
            if (!isValid) {
                displays.validationError.classList.remove('hidden');
            } else {
                displays.validationError.classList.add('hidden');
            }

            return isValid;
        }

        function submitOrder() {
            if (!validateForm()) {
                alert("–ë—É–¥—å –ª–∞—Å–∫–∞, –∑–∞–ø–æ–≤–Ω—ñ—Ç—å –≤—Å—ñ –æ–±–æ–≤'—è–∑–∫–æ–≤—ñ –ø–æ–ª—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è (–Ü–º'—è, –¢–µ–ª–µ—Ñ–æ–Ω, –î–∞—Ç–∞).");
                return;
            }

            const subtotal = state.laptops * state.prices.laptop + state.ps5 * state.prices.ps5 + state.vr * state.prices.vr + state.tv * state.prices.tv + (state.operator ? (state.prices.adminPerHour * state.hours) : 0) + (state.delivery ? state.deliveryCost : 0);
            const discountAmount = Math.round(subtotal * (state.discount / 100));
            const finalTotal = subtotal - discountAmount;

            const orderData = {
                // Client Info
                'ClientName': inputs.clientName.value.trim(),
                'ClientPhone': inputs.clientPhone.value.trim(),
                'ClientEmail': inputs.clientEmail.value.trim(),
                'EventLocation': inputs.eventLocation.value.trim(),
                'EventDate': inputs.eventDate.value,
                'EventNotes': inputs.eventNotes.value.trim(),
                
                // Equipment
                'LaptopsCount': state.laptops,
                'PS5Count': state.ps5,
                'VRCount': state.vr,
                'TVCount': state.tv,

                // Services
                'OperatorNeeded': state.operator ? '–¢–∞–∫' : '–ù—ñ',
                'OperatorHours': state.operator ? state.hours : 0,
                'DeliveryNeeded': state.delivery ? '–¢–∞–∫' : '–ù—ñ',
                'DeliveryZone': inputs.deliveryZone.options[inputs.deliveryZone.selectedIndex].text,
                'DeliveryCost': state.deliveryCost,

                // Financials
                'EquipCost': (state.laptops * state.prices.laptop + state.ps5 * state.prices.ps5 + state.vr * state.prices.vr + state.tv * state.prices.tv),
                'StaffCost': state.operator ? (state.prices.adminPerHour * state.hours) : 0,
                'Subtotal': subtotal,
                'DiscountPercent': state.discount,
                'DiscountAmount': discountAmount,
                'FinalTotal': finalTotal,
                'Timestamp': new Date().toISOString()
            };

            console.log('--- Order Data to Send ---');
            console.log(orderData);
            
            // ----------------------------------------------------------------------------------
            // !!! PLACEHOLDER: HERE YOU SHOULD IMPLEMENT YOUR DATA SUBMISSION LOGIC !!!
            // ----------------------------------------------------------------------------------
            /* // Example using Fetch API for a Google Apps Script Web App (Replace URL with yours)
            fetch('YOUR_GOOGLE_APPS_SCRIPT_WEB_APP_URL', {
                method: 'POST',
                mode: 'no-cors', // Required for Google Forms/Scripts
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(orderData),
            })
            .then(response => {
                alert(`‚úÖ –ó–∞–º–æ–≤–ª–µ–Ω–Ω—è –Ω–∞ —Å—É–º—É ${finalTotal.toLocaleString()} ‚Ç¥ —É—Å–ø—ñ—à–Ω–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω–æ! –û—á—ñ–∫—É–π—Ç–µ –¥–∑–≤—ñ–Ω–∫–∞.`);
                // Optional: Clear form
                document.getElementById('orderForm').reset();
                calculate();
            })
            .catch(error => {
                console.error('Error submitting order:', error);
                alert('‚ö†Ô∏è –í–∏–Ω–∏–∫–ª–∞ –ø–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –Ω–∞–¥—Å–∏–ª–∞–Ω–Ω—ñ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è. –ë—É–¥—å –ª–∞—Å–∫–∞, —Å–ø—Ä–æ–±—É–π—Ç–µ —Å–∫–æ–ø—ñ—é–≤–∞—Ç–∏ –∫–æ—à—Ç–æ—Ä–∏—Å —Ç–∞ –∑–≤\'—è–∑–∞—Ç–∏—Å—è –∑ –Ω–∞–º–∏ –Ω–∞–ø—Ä—è–º—É.');
            }); 
            */
            
            // --- Simulated Success Message ---
            alert(`‚úÖ –ó–∞–º–æ–≤–ª–µ–Ω–Ω—è –Ω–∞ —Å—É–º—É ${finalTotal.toLocaleString()} ‚Ç¥ —É—Å–ø—ñ—à–Ω–æ –æ—Ñ–æ—Ä–º–ª–µ–Ω–æ —Ç–∞ –≥–æ—Ç–æ–≤–µ –¥–æ –ø–µ—Ä–µ–¥–∞—á—ñ! (–ö–æ–Ω—Å–æ–ª—å –º—ñ—Å—Ç–∏—Ç—å –¥–∞–Ω—ñ –¥–ª—è –Ω–∞–¥—Å–∏–ª–∞–Ω–Ω—è). –î—è–∫—É—î–º–æ, ${inputs.clientName.value.trim()}!`);
            // Optional: Clear form
            document.getElementById('orderForm').reset();
            calculate();

        }

        function copyToClipboard() {
            const finalTotalText = document.getElementById('finalTotal').innerText;
            const subtotal = state.laptops * state.prices.laptop + state.ps5 * state.prices.ps5 + state.vr * state.prices.vr + state.tv * state.prices.tv + (state.operator ? (state.prices.adminPerHour * state.hours) : 0) + (state.delivery ? state.deliveryCost : 0);
            const discountAmount = Math.round(subtotal * (state.discount / 100));

            const text = `üéâ –ö–æ—à—Ç–æ—Ä–∏—Å –æ—Ä–µ–Ω–¥–∏ –æ–±–ª–∞–¥–Ω–∞–Ω–Ω—è LAIR üéâ\n\n` +
                `üë§ –ö–ª—ñ—î–Ω—Ç: ${inputs.clientName.value.trim() || '–ù–µ –≤–∫–∞–∑–∞–Ω–æ'}\n` +
                `üìÖ –î–∞—Ç–∞ –Ü–≤–µ–Ω—Ç—É: ${inputs.eventDate.value || '–ù–µ –≤–∫–∞–∑–∞–Ω–æ'}\n` +
                `üìç –õ–æ–∫–∞—Ü—ñ—è: ${inputs.eventLocation.value.trim() || '–ù–µ –≤–∫–∞–∑–∞–Ω–æ'}\n\n` +
                `--- –î–µ—Ç–∞–ª—ñ–∑–∞—Ü—ñ—è ---\n` +
                `- –ù–æ—É—Ç–±—É–∫–∏ (${state.laptops} —à—Ç): ${(state.laptops * state.prices.laptop).toLocaleString()} –≥—Ä–Ω\n` +
                `- PS5 (${state.ps5} —à—Ç): ${(state.ps5 * state.prices.ps5).toLocaleString()} –≥—Ä–Ω\n` +
                `- VR (${state.vr} —à—Ç): ${(state.vr * state.prices.vr).toLocaleString()} –≥—Ä–Ω\n` +
                `- –¢–í/–°—Ç—ñ–π–∫–∏ (${state.tv} —à—Ç): ${(state.tv * state.prices.tv).toLocaleString()} –≥—Ä–Ω\n` +
                `- –¢–µ—Ö. –∞–¥–º—ñ–Ω (${state.hours} –≥–æ–¥): ${(state.operator ? (state.prices.adminPerHour * state.hours) : 0).toLocaleString()} –≥—Ä–Ω\n` +
                `- –õ–æ–≥—ñ—Å—Ç–∏–∫–∞ (${inputs.deliveryZone.options[inputs.deliveryZone.selectedIndex].text}): ${(state.delivery ? state.deliveryCost : 0).toLocaleString()} –≥—Ä–Ω\n` +
                `\n` +
                `‚û°Ô∏è –°—É–º–∞ –¥–æ –∑–Ω–∏–∂–∫–∏: ${subtotal.toLocaleString()} –≥—Ä–Ω\n` +
                `üéÅ –ó–Ω–∏–∂–∫–∞ ${state.discount}%: -${discountAmount.toLocaleString()} –≥—Ä–Ω\n` +
                `----------------\n` +
                `üî• –†–ê–ó–û–ú –î–û –°–ü–õ–ê–¢–ò: ${finalTotalText}\n\n` +
                `* –¶—ñ–Ω–∏ –æ—Ä—ñ—î–Ω—Ç–æ–≤–Ω—ñ. –ù–µ —î –ø—É–±–ª—ñ—á–Ω–æ—é –æ—Ñ–µ—Ä—Ç–æ—é.`;
            
            navigator.clipboard.writeText(text).then(() => {
                alert("–ö–æ—à—Ç–æ—Ä–∏—Å —Å–∫–æ–ø—ñ–π–æ–≤–∞–Ω–æ –≤ –±—É—Ñ–µ—Ä –æ–±–º—ñ–Ω—É!");
            }).catch(err => {
                console.error('Could not copy text: ', err);
                alert("–ù–µ –≤–¥–∞–ª–æ—Å—è —Å–∫–æ–ø—ñ—é–≤–∞—Ç–∏ –∫–æ—à—Ç–æ—Ä–∏—Å. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∫–æ–Ω—Å–æ–ª—å.");
            });
        }

        // Event Listeners
        Object.values(inputs).forEach(input => {
            // Use 'input' for sliders and text fields for real-time calculation
            if (input.type === 'range' || input.type === 'number' || input.type === 'checkbox' || input.tagName === 'SELECT') {
                 input.addEventListener('input', calculate);
            }
             // Use 'change' for number/text inputs in settings/form to avoid calculation on every keypress
            if (input.type === 'number' || input.type === 'text' || input.type === 'email' || input.type === 'date') {
                 input.addEventListener('change', calculate);
            }
        });

        document.getElementById('toggleSettings').addEventListener('click', () => {
            document.getElementById('settingsPanel').classList.toggle('hidden');
        });

        // Init
        calculate();

    </script>
</body>
</html>